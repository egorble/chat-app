# –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó –∑ Irys

## üéâ –°—Ç–∞—Ç—É—Å: –£–°–ü–Ü–®–ù–û –í–ò–ü–†–ê–í–õ–ï–ù–û

–í—Å—è —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Ç–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —á–∞—Ç—ñ–≤ –∑ Irys —Ç–µ–ø–µ—Ä –ø—Ä–∞—Ü—é—î –∫–æ—Ä–µ–∫—Ç–Ω–æ.

## üîß –í–∏—è–≤–ª–µ–Ω—ñ —Ç–∞ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω—ñ –ø—Ä–æ–±–ª–µ–º–∏

### 1. –ü—Ä–æ–±–ª–µ–º–∞ –∑ owner'–æ–º —É GraphQL –∑–∞–ø–∏—Ç–∞—Ö

**–ü—Ä–æ–±–ª–µ–º–∞:** API `load-chats` —à—É–∫–∞–≤ —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—ó –∑–∞ owner'–æ–º –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞, –∞–ª–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—ó –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤—ñ–¥ —ñ–º–µ–Ω—ñ —Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ wallet'–∞.

**–†—ñ—à–µ–Ω–Ω—è:** 
- –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ GraphQL –∑–∞–ø–∏—Ç —É `/api/load-chats/route.ts`
- –¢–µ–ø–µ—Ä API –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –∞–¥—Ä–µ—Å—É —Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ wallet'–∞ —è–∫ owner
- –î–æ–¥–∞–Ω–æ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—é –∑–∞ —Ç–µ–≥–æ–º `User-Address` –¥–ª—è –∑–Ω–∞—Ö–æ–¥–∂–µ–Ω–Ω—è —á–∞—Ç—ñ–≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞

### 2. –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è —Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ wallet'–∞

**–í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ:**
- –ó–º—ñ–Ω–Ω–∞ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ `SERVER_WALLET` ‚Üí `SERVER_WALLET_PRIVATE_KEY`
- –ü—Ä–∞–≤–∏–ª—å–Ω–∞ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è Irys uploader –∑ –ø—Ä–∏–≤–∞—Ç–Ω–∏–º –∫–ª—é—á–µ–º

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### –¢–µ—Å—Ç 1: –ë–∞–∑–æ–≤–∞ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ Irys
- ‚úÖ –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è Irys uploader
- ‚úÖ –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ç–µ—Å—Ç–æ–≤–∏—Ö –¥–∞–Ω–∏—Ö
- ‚úÖ –î–æ–¥–∞–≤–∞–Ω–Ω—è –ø—Ä–∞–≤–∏–ª—å–Ω–∏—Ö —Ç–µ–≥—ñ–≤ (`User-Address`, `Chat-ID`, `App-Name`, —Ç–æ—â–æ)
- ‚úÖ –£—Å–ø—ñ—à–Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –Ω–∞ Irys
- ‚úÖ –ó–Ω–∞—Ö–æ–¥–∂–µ–Ω–Ω—è —á–µ—Ä–µ–∑ GraphQL –∑–∞–ø–∏—Ç

### –¢–µ—Å—Ç 2: API –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —á–∞—Ç—ñ–≤
- ‚úÖ –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è 17 —á–∞—Ç—ñ–≤ –¥–ª—è —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∞ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –∑–∞ `User-Address`
- ‚úÖ –ö–æ—Ä–µ–∫—Ç–Ω–∞ –æ–±—Ä–æ–±–∫–∞ —Ç–∞ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö

### –¢–µ—Å—Ç 3: –ü–æ–≤–Ω–∏–π —Ü–∏–∫–ª (–∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è ‚Üí –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è)
- ‚úÖ –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è —á–∞—Ç—É —á–µ—Ä–µ–∑ `/api/save-chat`
- ‚úÖ –û—á—ñ–∫—É–≤–∞–Ω–Ω—è —ñ–Ω–¥–µ–∫—Å–∞—Ü—ñ—ó (10 —Å–µ–∫—É–Ω–¥)
- ‚úÖ –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —á–µ—Ä–µ–∑ `/api/load-chats`
- ‚úÖ –ó–Ω–∞—Ö–æ–¥–∂–µ–Ω–Ω—è –∑–±–µ—Ä–µ–∂–µ–Ω–æ–≥–æ —á–∞—Ç—É –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö

## üîë –ö–ª—é—á–æ–≤—ñ –¥–µ—Ç–∞–ª—ñ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó

### Wallet –∞–¥—Ä–µ—Å–∏:
- **–°–µ—Ä–≤–µ—Ä–Ω–∏–π wallet:** `0x4bf3593ae21739f6c16b8ef67c0c2113d1543be7`
- **–¢–µ—Å—Ç–æ–≤–∏–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á:** `0x233c8C54F25734B744E522bdC1Eed9cbc8C97D0c`

### –¢–µ–≥–∏ –¥–ª—è —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó:
- `App-Name: ChatAppChats`
- `Type: chat-session`
- `User-Address: [–∞–¥—Ä–µ—Å–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞]`
- `Chat-ID: [—É–Ω—ñ–∫–∞–ª—å–Ω–∏–π ID —á–∞—Ç—É]`
- `Chat-Title: [–Ω–∞–∑–≤–∞ —á–∞—Ç—É]`
- `Message-Count: [–∫—ñ–ª—å–∫—ñ—Å—Ç—å –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å]`
- `Created-At: [–¥–∞—Ç–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è]`
- `Updated-At: [–¥–∞—Ç–∞ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è]`

### GraphQL –∑–∞–ø–∏—Ç:
```graphql
query getUserChats($owner: String!) {
  transactions(
    owners: [$owner]  # –ê–¥—Ä–µ—Å–∞ —Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ wallet'–∞
    tags: [
      { name: "App-Name", values: ["ChatAppChats"] }
      { name: "Type", values: ["chat-session"] }
      { name: "User-Address", values: ["[–∞–¥—Ä–µ—Å–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞]"] }
    ]
    first: 100
  ) {
    edges {
      node {
        id
        tags { name value }
        timestamp
      }
    }
  }
}
```

## üöÄ –Ø–∫ –ø—Ä–∞—Ü—é—î —Å–∏—Å—Ç–µ–º–∞

1. **–ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è —á–∞—Ç—É:**
   - –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á —Å—Ç–≤–æ—Ä—é—î/–æ–Ω–æ–≤–ª—é—î —á–∞—Ç –≤ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ñ
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è `saveChatToIrys()` —á–µ—Ä–µ–∑ 1 —Å–µ–∫—É–Ω–¥—É –ø—ñ—Å–ª—è –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ AI
   - –î–∞–Ω—ñ –≤—ñ–¥–ø—Ä–∞–≤–ª—è—é—Ç—å—Å—è –Ω–∞ `/api/save-chat`
   - –°–µ—Ä–≤–µ—Ä –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —Å–µ—Ä–≤–µ—Ä–Ω–∏–π wallet –¥–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –Ω–∞ Irys
   - –î–æ–¥–∞—é—Ç—å—Å—è –≤—Å—ñ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ —Ç–µ–≥–∏ –¥–ª—è —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó

2. **–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —á–∞—Ç—ñ–≤:**
   - –ü—Ä–∏ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—ñ wallet'–∞ –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è `loadChatsFromIrys()`
   - –ó–∞–ø–∏—Ç –¥–æ `/api/load-chats?userAddress=[–∞–¥—Ä–µ—Å–∞]`
   - GraphQL –∑–∞–ø–∏—Ç –¥–æ Irys –∑ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—î—é –∑–∞ —Å–µ—Ä–≤–µ—Ä–Ω–∏–º wallet'–æ–º —Ç–∞ User-Address —Ç–µ–≥–æ–º
   - –î–µ–¥—É–ø–ª—ñ–∫–∞—Ü—ñ—è –∑–∞ Chat-ID (–∑–∞–ª–∏—à–∞—î—Ç—å—Å—è –Ω–∞–π–Ω–æ–≤—ñ—à–∞ –≤–µ—Ä—Å—ñ—è)
   - –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö –∑ Irys gateway
   - –°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –∑–∞ –¥–∞—Ç–æ—é –æ–Ω–æ–≤–ª–µ–Ω–Ω—è

## üìÅ –°—Ç–≤–æ—Ä–µ–Ω—ñ —Ç–µ—Å—Ç–æ–≤—ñ —Ñ–∞–π–ª–∏

- `test-irys-integration.js` - –ë–∞–∑–æ–≤–∏–π —Ç–µ—Å—Ç —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó –∑ Irys
- `test-load-chats.js` - –¢–µ—Å—Ç API –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —á–∞—Ç—ñ–≤
- `test-full-cycle.js` - –ü–æ–≤–Ω–∏–π —Ç–µ—Å—Ç —Ü–∏–∫–ª—É –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è‚Üí–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è

## ‚úÖ –í–∏—Å–Ω–æ–≤–æ–∫

–Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ Irys –ø—Ä–∞—Ü—é—î —Å—Ç–∞–±—ñ–ª—å–Ω–æ —Ç–∞ –∫–æ—Ä–µ–∫—Ç–Ω–æ. –í—Å—ñ —á–∞—Ç–∏ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –∑ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–º–∏ —Ç–µ–≥–∞–º–∏, –∑–∞–≤–∞–Ω—Ç–∞–∂—É—é—Ç—å—Å—è —à–≤–∏–¥–∫–æ (‚âà1 —Å–µ–∫—É–Ω–¥–∞), —Ç–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ñ—ñ–ª—å—Ç—Ä—É—é—Ç—å—Å—è –∑–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–µ–º. –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –¥–æ –ø—Ä–æ–¥–∞–∫—à–Ω –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è.